<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0d0d1a">
  <meta name="description" content="Track your PokÃ©mon shiny hunts â€” offline-ready PWA">
  <link rel="manifest" href="manifest.json">
  <title>âœ¨ Shiny Hunt Tracker</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- PWA install banner -->
  <div id="install-banner" class="install-banner hidden">
    <span>ğŸ“± Install for offline access</span>
    <button id="install-btn">Install</button>
    <button id="dismiss-install" aria-label="Dismiss">âœ•</button>
  </div>

  <!-- Offline indicator -->
  <div id="offline-bar" class="offline-bar hidden">
    ğŸ“´ Offline â€” changes will sync when reconnected
  </div>

  <div class="app">

    <!-- Header -->
    <header class="app-header">
      <h1>âœ¨ Shiny Hunt Tracker</h1>
      <div id="sync-badge" class="sync-badge hidden">Syncingâ€¦</div>
    </header>

    <!-- Stats bar -->
    <div class="stats-bar" role="region" aria-label="Summary stats">
      <div class="stat-pill">
        <span class="stat-label">Active</span>
        <span class="stat-value" id="stat-active">0</span>
      </div>
      <div class="stat-pill">
        <span class="stat-label">Found</span>
        <span class="stat-value" id="stat-found">0</span>
      </div>
      <div class="stat-pill">
        <span class="stat-label">Encounters</span>
        <span class="stat-value" id="stat-encounters">0</span>
      </div>
      <div class="stat-pill">
        <span class="stat-label">Avg / Shiny</span>
        <span class="stat-value" id="stat-avg">â€”</span>
      </div>
    </div>

    <!-- Tab navigation -->
    <nav class="tab-nav" role="tablist">
      <button class="tab-btn active" data-tab="hunt" role="tab" aria-selected="true">ğŸ” Hunt</button>
      <button class="tab-btn" data-tab="trophy" role="tab" aria-selected="false">ğŸ† Trophy</button>
      <button class="tab-btn" data-tab="stats" role="tab" aria-selected="false">ğŸ“Š Stats</button>
    </nav>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HUNT TAB â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="tab-hunt" class="tab-content active" role="tabpanel">

      <!-- New hunt form -->
      <section class="new-hunt-panel">
        <h2>Start New Hunt</h2>

        <div class="search-container">
          <input type="text" id="pokemon-search" placeholder="Search PokÃ©monâ€¦" autocomplete="off" spellcheck="false">
          <div id="search-results" class="search-results" role="listbox"></div>
        </div>

        <!-- Selected PokÃ©mon preview -->
        <div id="selected-preview" class="selected-preview hidden">
          <img id="selected-sprite" src="" alt="">
          <div class="selected-info">
            <div id="selected-name" class="selected-name"></div>
            <div id="selected-types" class="selected-types"></div>
          </div>
          <button id="clear-selection" class="clear-btn" aria-label="Clear selection">âœ•</button>
        </div>

        <!-- Game select -->
        <select id="game-select">
          <option value="">Select Gameâ€¦</option>
          <optgroup label="Gen 1 (no shiny mechanic)">
            <option value="Red/Blue">Red / Blue</option>
            <option value="Yellow">Yellow</option>
          </optgroup>
          <optgroup label="Gen 2 â€” 1/8192">
            <option value="Gold/Silver">Gold / Silver</option>
            <option value="Crystal">Crystal</option>
          </optgroup>
          <optgroup label="Gen 3 â€” 1/8192">
            <option value="Ruby/Sapphire">Ruby / Sapphire</option>
            <option value="Emerald">Emerald</option>
            <option value="FireRed/LeafGreen">FireRed / LeafGreen</option>
          </optgroup>
          <optgroup label="Gen 4 â€” 1/8192">
            <option value="Diamond/Pearl">Diamond / Pearl</option>
            <option value="Platinum">Platinum</option>
            <option value="HeartGold/SoulSilver">HeartGold / SoulSilver</option>
          </optgroup>
          <optgroup label="Gen 5 â€” 1/8192">
            <option value="Black/White">Black / White</option>
            <option value="Black 2/White 2">Black 2 / White 2</option>
          </optgroup>
          <optgroup label="Gen 6 â€” 1/4096">
            <option value="X/Y">X / Y</option>
            <option value="Omega Ruby/Alpha Sapphire">Omega Ruby / Alpha Sapphire</option>
          </optgroup>
          <optgroup label="Gen 7 â€” 1/4096">
            <option value="Sun/Moon">Sun / Moon</option>
            <option value="Ultra Sun/Ultra Moon">Ultra Sun / Ultra Moon</option>
          </optgroup>
          <optgroup label="Gen 8 â€” 1/4096">
            <option value="Sword/Shield">Sword / Shield</option>
            <option value="Brilliant Diamond/Shining Pearl">Brilliant Diamond / Shining Pearl</option>
            <option value="Legends: Arceus">Legends: Arceus</option>
          </optgroup>
          <optgroup label="Gen 9 â€” 1/4096">
            <option value="Scarlet/Violet">Scarlet / Violet</option>
          </optgroup>
        </select>

        <!-- Optional target -->
        <div class="target-row">
          <label for="target-count">Target encounters (optional)</label>
          <input type="number" id="target-count" placeholder="e.g. 500" min="1" max="99999">
        </div>

        <button id="start-hunt" disabled>Start Hunt âœ¨</button>
      </section>

      <!-- Active hunts grid -->
      <section class="hunts-section">
        <h2>Active Hunts</h2>
        <div id="hunts-container" class="hunts-grid"></div>
      </section>

    </div><!-- /tab-hunt -->

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TROPHY TAB â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="tab-trophy" class="tab-content" role="tabpanel">
      <section class="trophy-section">
        <h2>ğŸ† Trophy Cabinet</h2>
        <p class="section-subtitle">Your found shinies</p>
        <div id="trophy-container" class="trophy-grid"></div>
      </section>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• STATS TAB â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="tab-stats" class="tab-content" role="tabpanel">
      <section class="full-stats-section">
        <h2>ğŸ“Š Hunt Statistics</h2>
        <div id="stats-container" class="stats-grid"></div>
      </section>
    </div>

  </div><!-- /app -->

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FOUND OVERLAY â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <div id="found-overlay" class="found-overlay hidden" role="dialog" aria-modal="true" aria-label="Shiny found celebration">
    <div class="found-modal">
      <div class="overlay-sparkles" id="overlay-sparkles"></div>
      <img id="found-sprite" src="" alt="" class="found-sprite-img">
      <h2>âœ¨ SHINY FOUND! âœ¨</h2>
      <p id="found-message"></p>
      <button id="found-confirm">Add to Trophy Cabinet ğŸ†</button>
      <button id="found-cancel" class="found-cancel-btn">Keep Hunting</button>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js');
    }
  </script>
</body>
</html>
